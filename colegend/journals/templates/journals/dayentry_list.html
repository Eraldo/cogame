{% extends 'page.html' %}

{% load icons %}

{% block page_title %}
    Journal Entries
{% endblock %}

{% block up_url %}{% url "journals:dayentry_list" %}{% endblock %}

{% block page_title_extras %}
    {% include "lib/_total_counter.html" %}
    <span data-toggle="tooltip" title="Streak">
        <span class="streak badge">{% icon "streak" %} {{ streak }}</span>
    </span>
    <span data-toggle="tooltip" title="Topic of the year">
        <span class="label label-info">{{ topic_of_the_year }}</span>
    </span>
{% endblock %}

{% block page_controls %}
    <a href="{% url "journals:dayentry_continue" %}" class="open-button btn btn-default" role="button" data-toggle="tooltip" title="Create/Continue Today's Entry">
        Today
    </a>
    <a href="{% url "journals:dayentry_new" %}" class="new-button btn btn-default" role="button" data-toggle="tooltip" title="New Entry">
        {% icon "new" %}
    </a>
    <a href="{% url "journals:map" %}" class="btn btn-default" role="button" data-toggle="tooltip" title="Travel Map">
        {% icon "location" %}
    </a>
    <a href="{% url "journals:journal_edit" %}" class="btn btn-default pull-right" role="button" data-toggle="tooltip" title="Journal Settings">
        {% icon "setting" %}
    </a>
{% endblock %}

{% block page_content %}
    <div class="dayentry-list">
        <table class="table table-hover">
            <thead>
            <tr>
                <th>Date</th>
                <th>Location(s)</th>
                <th>Focus</th>
                <th>Tags</th>
            </tr>
            </thead>
            <tbody>
            {% for dayentry in latest %}
                <tr>
                    <td>
                        <a href="{{ dayentry.get_show_url }}">{{ dayentry.date }}</a><br>
                    </td>
                    <td>
                        {{ dayentry.location }}
                    </td>
                    <td>{{ dayentry.focus }}</td>
                    <td>
                        {% for tag in dayentry.tags.all %}
                            {% include "tags/_tag.html" %}
                        {% endfor %}
                    </td>
                </tr>
            {% endfor %}

            </tbody>
        </table>
    {% include "lib/_pager.html" %}
    </div>
{% endblock %}
