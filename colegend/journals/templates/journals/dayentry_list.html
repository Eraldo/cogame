{% extends 'page.html' %}

{% load icons %}

{% block page_title %}
    Journal Entries
{% endblock %}

{% block up_url %}{% url "journals:dayentry_list" %}{% endblock %}

{% block page_title_extras %}
    <span data-toggle="tooltip" title="Total">
        <span class="badge">{{ counter }}</span>
    </span>
    <span data-toggle="tooltip" title="Streak">
        <span class="streak badge"><i class="fa fa-link"></i> {{ streak }}</span>
    </span>
{% endblock %}

{% block page_controls %}
    <a href="{% url "journals:dayentry_continue" %}" class="open-button btn btn-default" role="button">Today</a>
    <a href="{% url "journals:dayentry_new" %}" class="new-button btn btn-default" role="button">{% icon "new" %}</a>
{% endblock %}

{% block page_content %}
    <div class="dayentry-list">
        <table class="table table-hover">
            <thead>
            <tr>
                <th>Date</th>
                <th>Location(s)</th>
                <th>Focus</th>
            </tr>
            </thead>
            <tbody>
            {% for dayentry in latest %}
                <tr>
                    <td>
                        <a href="{{ dayentry.get_show_url }}">{{ dayentry.date }}</a><br>
                    </td>
                    <td>
                        {{ dayentry.location }}
                    </td>
                    <td>{{ dayentry.focus }}</td>
                </tr>
            {% endfor %}

            </tbody>
        </table>
        {% if is_paginated %}
            <nav>
                <ul class="pager">
                    {% if page_obj.has_previous %}
                        <li class="previous"><a href="?page={{ page_obj.previous_page_number }}"><span
                                aria-hidden="true">&larr;</span> Newer</a></li>
                    {% endif %}
                    {% if page_obj.has_next %}
                        <li class="next"><a href="?page={{ page_obj.next_page_number }}">Older <span
                                aria-hidden="true">&rarr;</span></a></li>
                    {% endif %}
                </ul>
            </nav>
        {% endif %}
    </div>
{% endblock %}
