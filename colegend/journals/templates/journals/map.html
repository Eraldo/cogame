{% extends 'page.html' %}

{% load icons %}

{% block page_title %}
    Travel Map
{% endblock %}

{% block up_url %}{% url "journals:dayentry_list" %}{% endblock %}

{% block page_title_extras %}
    {% include "lib/_total_counter.html" %}
{% endblock %}

{% block extra_head %}
    {{ block.super }}
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script>
        google.load('visualization', '1', { 'packages': ['map'] });
        google.setOnLoadCallback(drawMap);

        function drawMap() {
            var data = google.visualization.arrayToDataTable([
                ['Place'],
                {% for location in locations %}
                    ['{{ location }}'],
                {% endfor %}
            ]);

            var options = { showTip: true, mapType: 'normal', useMapTypeControl: true };

            var map = new google.visualization.Map(document.getElementById('map_div'));

            map.draw(data, options);
        }
        ;
    </script>
{% endblock %}

{% block page_content %}
    <div id="map_div" style="height: 600px;"></div>
{% endblock %}
