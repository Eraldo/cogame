{% load staticfiles i18n %}

<nav id="site-menu" class="navbar navbar-static-top navbar-light">
    <div class="container">
        <a class="navbar-brand" href="{% url 'home' %}">
            <img id="navbar-brand-logo" src="{% static 'images/coLegendLogo_86x18.png' %}" alt="coLegend logo">
        </a>
        <button type="button" class="navbar-toggler hidden-sm-up pull-right" data-toggle="collapse"
                data-target="#bs-navbar-collapse-1">
            &#9776;
        </button>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-toggleable-xs" id="bs-navbar-collapse-1">
            <ul class="nav navbar-nav">

                {# CONSCIOUS MENU #}
                <li class="nav-item">
                    <div class="dropdown">
                        <button class="btn btn-link nav-link" type="button" id="menu-button-conscious"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="text-conscious">
                                <i class="fa fa-graduation-cap"></i> conscious
                            </span>
                        </button>
                        <div class="dropdown-menu" aria-labelledby="menu-button-conscious">
                            <a class="dropdown-item" href="{% url 'conscious:index' %}">
                                Dashboard
                            </a>

                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item disabled" href="#">
                                <i class="fa fa-lock"></i>
                                Journal
                                {#                                <small class="pull-right">level 2</small>#}
                            </a>
                            <a class="dropdown-item disabled" href="#">
                                <i class="fa fa-lock"></i>
                                Manager
                                {#                                <small class="pull-right">level 3</small>#}
                            </a>
                            <a class="dropdown-item disabled" href="#">
                                <i class="fa fa-lock"></i>
                                Habits
                                {#                                <small class="pull-right">level 4</small>#}
                            </a>
                        </div>
                    </div>
                </li>

                {# CONNECTED MENU #}
                <li class="nav-item">
                    <div class="dropdown">
                        <button class="btn btn-link nav-link" type="button" id="menu-button-connected"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="text-connected">
                                <i class="fa fa-heart"></i> connected
                            </span>
                        </button>
                        <div class="dropdown-menu" aria-labelledby="menu-button-connected">
                            <a class="dropdown-item" href="{% url 'connected:index' %}">
                                Dashboard
                            </a>

                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="{% url 'legends:profile' user.username %}">
                                Legend
                            </a>
                            <a class="dropdown-item disabled" href="#">
                                <i class="fa fa-lock"></i>
                                Cloud Guide
                            </a>
                            <a class="dropdown-item disabled" href="#">
                                <i class="fa fa-lock"></i>
                                Dream Team
                            </a>
                            <a class="dropdown-item disabled" href="#">
                                <i class="fa fa-lock"></i>
                                Tribe
                            </a>
                            <a class="dropdown-item disabled" href="#">
                                <i class="fa fa-lock"></i>
                                Circle
                            </a>

                            <div class="dropdown-divider"></div>

                            {% if user.connected.chat %}
                                <a class="dropdown-item" href="{% url 'connected:chat' %}" target="_blank">
                                    Chat
                                </a>
                            {% else %}
                                <a class="dropdown-item disabled" href="#">
                                    <i class="fa fa-lock"></i>
                                    Chat
                                </a>
                            {% endif %}

                            {% if user.connected.virtual_room %}
                            <a class="dropdown-item" href="{% url 'connected:virtual-room' %}" target="_blank">
                                Virtual Room
                            </a>
                            {% else %}
                                <a class="dropdown-item disabled" href="#">
                                    <i class="fa fa-lock"></i>
                                    Virtual Room
                                </a>
                            {% endif %}

                            {% if user.connected.guidelines %}
                                <a class="dropdown-item" href="{% url 'connected:guidelines' %}">
                                    Guidelines
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </li>

                {# CONTINUOUS MENU #}
                <li class="nav-item">
                    <div class="dropdown">
                        <button class="btn btn-link nav-link" type="button" id="menu-button-continuous"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="text-continuous">
                                <i class="fa fa-paw"></i> continuous
                            </span>
                        </button>
                        <div class="dropdown-menu" aria-labelledby="menu-button-continuous">
                            <a class="dropdown-item" href="{% url 'continuous:index' %}">
                                Dashboard
                            </a>

                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item disabled" href="#">
                                <i class="fa fa-lock"></i>
                                Personal Story
                            </a>
                            <a class="dropdown-item disabled" href="#">
                                <i class="fa fa-lock"></i>
                                Tribe Story
                            </a>
                            <a class="dropdown-item disabled" href="#">
                                <i class="fa fa-lock"></i>
                                coLegend Story
                            </a>

                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item disabled" href="#" data-toggle="tooltip" title="Tooltip on top">
                                <i class="fa fa-lock"></i>
                                Success Stream
                            </a>
                        </div>
                    </div>
                </li>
            </ul>
            <ul class="nav navbar-nav pull-right">
                {% if request.user.is_authenticated %}


                    {# ACCOUNT MENU #}
                    <li class="nav-item">
                        <div class="dropdown">
                            <button class="btn btn-link nav-link" type="button" id="menu-button-account"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <span class="text-account">
                                <i class="fa fa-user"></i> {{ user.username|default:"Account" }}
                            </span>
                            </button>
                            <div class="dropdown-menu" aria-labelledby="menu-button-account">
                                <a class="dropdown-item" href="{% url 'legends:profile' request.user.username %}">
                                    <i class="fa fa-user"></i> Legend
                                </a>
                                <a class="dropdown-item" href="{% url 'legends:settings' %}">
                                    <i class="fa fa-wrench"></i> Settings
                                </a>
                                <a class="dropdown-item" href="{% url 'account_logout' %}">
                                    <i class="fa fa-sign-out"></i> Logout
                                </a>
                            </div>
                        </div>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'join' %}">{% trans "Join" %}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'account_login' %}">{% trans "Log In" %}</a>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
