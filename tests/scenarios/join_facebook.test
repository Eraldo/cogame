{% extends "base.test" %}
{% block test %}
- name: Join with facebook
  scenario:
    # Fiona looked at the landing page and now wants to join coLegend.
    # She opens the site, scrolls down and clicks on the join button:
    - Load website
    - Scroll to: join-explorer
    - Click: join-explorer

    # She comes to a chat page were she is greeted and asked how she wants to join:
    - Find text: Welcome
    - Find text: How do you want to join?

    # She chooses a facebook signup:
    - Click: facebook-signup

    # She fills in the form with her facebook credentials:
    - Fill form:
        email: fiona_ebxqvbb_facebook@tfbnw.net
        pass: tester
    - Click: loginbutton

    # She gets promted to verify her email address:
    - Find text: Verify Your E-mail Address

    # She checks her email and finds one from coLegend asking her to confirm her email address:
    - Wait for email:
        Containing: Please Confirm Your E-mail Address

    # She clicks on the confirm link in that email:
    - Click email link:
        Containing: Confirm

    # She is now on a page where she is asked to confirm her email address for her user.
    # She clicks on the confirm button:
    - Click: confirm-email

    # She is presented with a prologue story:
    - Page title: "Prologue"

    # She reads the story and clicks on the link to the Welcome Tree:
    - Execute: typed_skip();  # [Immediately show the link]
    - Click: continue-to-welcome-tree
{% endblock %}
