{% extends "base.test" %}
{% block test %}
- name: Chapter 1 {{ python_version }}
  scenario:
    # Carolina was surfing through the internet and looking for a personal development option
    # for herself. She found coLegend, looked at the landing page, likes what she sees and now # wants to join coLegend.
    # She opens the site, scrolls down and clicks on the join button:
    - Load website

    - Find text: Pricing
    - Scroll to: join-explorer
    - Click: join-explorer

    # She comes to a chat page where she is greeted and asked how she wants to join:
    - Page title: Join
    - Find text: Welcome
    - Find text: How do you want to join?

    # She chooses a regular signup:
    - Click: regular-signup

    # She fills in the form with her desired credentials:
    - Fill form:
          id_username: Carolina
          id_email: carolina@example.com
          id_password1: carolina
    - Click submit

    # She gets prompted to verify her email address:
    - Find text: Verify Your E-mail Address

    # She checks her email and finds one from coLegend asking her to confirm her email address:
    - Wait for email:
          Containing: Please Confirm Your E-mail Address

    # She clicks on the confirm link in that email:
    - Click email link:
          Containing: Confirm

    # She is now on a page where she is asked to confirm her email address for her user.
    # She clicks on the confirm button:
    - Click: confirm-email

    # She is presented with a prologue story:
    - Page title: Prologue

    # She reads the story and clicks on the link to the Poetree:
    - Execute: typed_skip();  # [Immediately show the link]
    - Click: continue-to-welcome-tree

    # She is now on the Welcome Tree page
    - Page title: Welcome Tree
    # She is presented with the Welcome Tree story and reads the story.
    - Execute: typed_skip()           # immediately show the link
    - Find element: welcome-tree      # needs ID

    # She reads the notification concerning the welcome leaves and clicks on the tree to read
    # some of the leaves for herself.
    - Find text: Click on the tree to see its messages.
    - Click: welcome-tree            # needs ID for clickable picture

    # A first welcome leaf appears. She reads it, and clicks the refresh button to see the next one and then clicks on the the cross to close it again.
    - Find element: welcome-tree-leaf          # needs ID
    - Click: next-button
    # She reads another welcome message
    # She is done with reading welcome messages now.
    - Click: close-button

    # She wants to continue discovering the coLegend site and looks for a button to continue.
    # She finds the button and clicks on it.
    - Find text: continue
    - Click: close-button
    - Click: success-button

    # She gets prompted to the continuous game page where she gets welcomed by Coralina who explains the content of the page to her.
    - Page title: Game
    - Find element: coralina-avatar  # still needs Coralina picture ID
    - Find text: Coralina   # name of Coralina picture
    - Find element: speech-bubble
    - Find element: blockquote  # still needs ID for quote-box
    - Find element: quote-author  # quote author
    - Find text : shared by  # quote sharer (animal)

    # In the introduction she reads about the coLegend card game and is now intrigued. She
    # wants to find out what it is about, looks at it and clicks on the deck.
    - Find element: deck                # still needs ID
    - Click: deck                         # still needs ID

    # After clicking on the deck a first card appears to the right of the deck: The Outer Call card.
    # She reads through the card and clicks on the details-link to learn more about how to do it.
    - Find element: card                # still needs ID
    - Find text: Outer Call
    - Click: card-outer-call-details
    - Click: card-outer-call-details-success  # the “ok” on the details pop-up
    - Wait: 1

    # After having read through the detailed instructions on the card she now knows what to do
    # and navigates to the Legend Page and from there to the unlocked Outer Call link.
    - Click: menu-button-connected
    - Click: menu-button-legend

    # This is the first time she sees her legend page, so she takes a look.
    # She is introduced by Coralina and scans the page to see what is there.
    - Page title: Legend
    - Find element: coralina-avatar  # still needs Coralina picture ID
    - Find text: Coralina   # name of Coralina picture
    - Find element: speech-bubble
    - Find element: blockquote  # still needs ID for quote-box
    - Find element: quote-author  # quote author
    - Find text : shared by  # quote sharer (animal)

    # She wants to see if she already has a badge and how many legend days she has already spent in coLegend.
    - Find element: legend-badges     # still needs ID
    - Find element: legend-days           # still needs ID

    # She remembers the card and clicks on the outer call button
    - Click: outer-call-button

    # She gets transferred to the “Outer Call”-Page and is introduced by Coralina.
    - Find element: coralina-avatar          # still needs Coralina picture ID
    - Find text: Coralina                 # name of Coralina picture
    - Find element: speech-bubble         # still needs ID “chat box of Coralina”
    - Find element: outer-call-image
    - Find text: How did you find out about coLegend?
    - Find text: Who was your contact person?

    # She fills in the entry field and submits it
    - Fill form:
        id_trigger: internet     # still needs ID
        id_referrer: Eraldo       # still needs ID
    - Click: save-button

    # She sees a notification that she has successfully accomplished the Outer-Call-Card. The
    # notification also tells her to go back to the deck of cards if she wants to continue playing
    # the game; there also is a link that prompts her back to the game. She clicks it.
    - Find text: Congratulations
    - Find text: If you want you can continue to play the game

    # Back on the Game page the former Outer-Call card has disappeared. She clicks on the
    # deck again to draw another card. The card appearing is the Inner-Call-Card.
    # She reads through the card and clicks on the details-link to learn more about how to do it.
    - Click: continue-game-button              # link back to Game page; still needs ID
    - Click: deck                         # still needs ID
    - Find text: Inner Call
    - Click: card-inner-call-details
    - Click: card-inner-call-details-success  # the “ok” on the details pop-up
    - Wait: 1

    # After having read through the detailed instructions on the card she now knows what to do
    # and navigates to the Legend Page and from there to the unlocked Outer Call link.
    - Click: menu-button-connected
    - Click: menu-button-legend           # still needs ID
    - Click: inner-call-button

    # She gets transferred to the “Inner Call”-Page, is introduced by Coralina and reads through the questions.
    - Page title: Inner Call
    - Find element: coralina-avatar          # still needs Coralina picture ID
    - Find text: Coralina                 # name of Coralina picture
    - Find element: speech-bubble         # still needs ID “chat box of Coralina”
    - Find element: inner-call-image            # still needs Inner Call picture ID
    - Find text: What was your motivation to join coLegend?
    - Find text: What do you want to change in your life?
    - Find text: How strong is your drive to get there?
    - Find text: What are your wishes for this platform?
    - Find text: Is there anything else you want to share?

    # She fills in the entry field and submits it.
    - Fill form:
        id_motivation: change life       # still needs ID
        id_change: more time for myself  # still needs ID
        id_drive: 9              # still needs ID
        id_wishes: useful tools      # still needs ID
        id_other: ;)           # still needs ID
    - Click: save-button

    # She sees a notification that she has successfully reflected on her outer call and done her
    # card. There also is the link to the Game page again. She clicks it to continue.
    - Find text: Congratulations
    - Click: continue-game-button

    # Back on the Game page the former Inner-Call card has disappeared. She clicks on the
    # deck again to draw another card. The card appearing is the Biography-Card.
    # She reads through the card and clicks on the details-link to learn more about how to do it.
    - Click: deck                         # still needs ID
    - Find text: Biography
    - Click: card-biography-details
    - Click: card-biography-details-success  # the “ok” on the details pop-up
    - Wait: 1

    # After having read through the detailed instructions on the card she now knows what to do
    # and navigates to the Legend Page and from there to the unlocked Biography link.
    - Click: menu-button-connected
    - Click: menu-button-legend           # still needs ID
    - Click: biography-button

    # She gets prompted to the Biography page where she is introduced by Coralina and scans # the page to see what is there.
    - Page title: Biography

    - Find element: coralina-avatar          # still needs Coralina picture ID
    - Find text: Coralina                 # name of Coralina picture
    - Find element: speech-bubble         # still needs ID “chat box of Coralina”

    - Find element: biography-image            # still needs Inner Call picture ID
    - Find text: Here are some questions to help you get started

    # She fills in the entry field and submits it
    - Fill form:
        id_text: |
          I was born in an average family.
          I had lived a full life.
    - Click: save-button

    # She sees a notification that she has successfully written her biography and therefor done
    # her card. She clicks on the Game link again..
    - Find text: Congratulations
    - Click: continue-game-button



    - Click: deck
    - Find text: About
    - Click: card-about-details
    - Click: card-about-details-success  # the “ok” on the details pop-up
    - Wait: 1

    # After having read through the detailed instructions on the card she now knows what to do
    # and navigates to the Legend Page and from there to the unlocked Biography link.
    - Click: menu-button-connected
    - Click: menu-button-legend           # still needs ID
    # She then gets prompted to the Legend Page
    - Page title: Legend
    # She find the 'about' section
    - Find text: About
    # and clicks on the edit link
    - Click: about-button

    # she fills out the about form and submits it.
    - Fill form:
        id_name: Carolina Cora
        id_gender: Female
        id_occupation: Tester
        id_birthday: '1990-01-04'
        id_address: |
          coLegend street 4
          4242 Berlin
          Germany
        id_phone: '+4317644444444'
    - Click: save-button

    - Find text: Congratulations
    - Click: continue-game-button

    - Click: deck                         # still needs ID
    - Find text: Guidelines
    - Click: card-guidelines-details
    - Click: card-guidelines-details-success  # the “ok” on the details pop-up
    - Wait: 1

    - Click: menu-button-connected
    - Click: menu-button-guidelines

    # She clicks on the next possible button: Guidelines. She gets prompted to Coralina’s introduction to the guidelines and answers that she is not interested in the guidelines.
    - Page title: Community Guidelines

    # Coralina introduction text
    - Find element: coralina-avatar
    - Find text: Coralina
    - Find element: speech-bubble

    - Click: not-interested-answer-guidelines     # still needs ID
    - Find text: You might find out why by taking a look at them.
    - Click: not-interested-answer-guidelines-success

    # She gets back to the Community Guidelines page and now wants to accept them.
    - Page title: Community Guidelines
    # She reads through the guidelines and accepts them.
    - Find text: "I accept the following guidelines:"
    - Click: accept

    - Find text: Congratulations
    - Click: continue-game-button

    - Click: deck                         # still needs ID
    - Find text: Chat
    - Click: card-chat-details
    - Click: card-chat-details-success  # the “ok” on the details pop-up
    - Wait: 1

    - Click: menu-button-connected
    - Click: menu-button-chat

    # Coralina introduction text
    - Find element: coralina-avatar
    - Find text: Coralina
    - Find element: speech-bubble

    - Click: chat-introduction-success

    # She gets prompted to the Slack Invitation page and reads through the several steps. She then sends herself and invite.
    - Page title: Slack Invitation
    - Find text: NEXT STEPS
    # She reads the steps and fills in the form and sends it.
    - Find element: chat-invitation-form  # the slack invite form
    # She checks her email and finds one from coLegend asking her to join coLegend on Slack.
    # She then signs up for slack with her email and username.

#    - Wait for email:
#        Containing: You’re invited to coLegend
#
#    # She clicks on the confirm link in that email:
#    - Click email link:
#        Containing: Join coLegend
#
#    # She joins Slack by creating a password and clicking on Next.
#    - Fill form:
#        id_password: carolina1234
#    - Click: Next

    # Carolina wants to continue advancing on the coLegend platform.
    # She comes back to the Slack Invitation page and finishes the Chat registration process.
    - Click: chat-invitation-success  # Text: I’m done

    - Find text: Congratulations
    - Click: continue-game-button

    - Click: deck                         # still needs ID
    - Find text: Cloud Guide
    - Click: card-cloud-guide-details
    - Click: card-cloud-guide-details-success  # the “ok” on the details pop-up
    - Wait: 1

    - Click: menu-button-connected
    - Click: menu-button-cloud-guide

    # She gets prompted to the Cloud Guide page where she gets introduced by Coralina. She answers with the second answer option (alternative: with the first).
    - Page title: Cloud Guide

    # Coralina introduction text
    - Find element: coralina-avatar
    - Find text: Coralina
    - Find element: speech-bubble

    - Click: guide-introduction-success
    - Find text: Looks like your Cloud Guide is still on the lookout for you

    # TODO: Continue to update/write the test


#    - Click: “Wait - I already have questions!”   # still needs ID
#    - Find text: “Questions”
#    - Click: Ok
#    #- Click: Sure! I’m ready to be found by my Cloud Guide
#
#    # She gets prompted to the Cloud Guide page.
#    - Page title: Cloud Guide
#    - Find element: cloud-guide.png       # still needs ID
#    - Find text containing: “he or she will find you soon enough”
#
#    # She wants to continue advancing on the platform. So she goes back to the continuous page.
#    - Click: menu-button-continuous
#    - Click: continuous-dashboard
#
#    # She clicks on the next possible button: Chapter 1 - Entering Leyenda. She gets prompted to the introduction of first part of the chapter 1 story and chooses a consumption way.
#    - Execute: typed_skip();  # [Immediately show the link]
#    - Click: read
#
#    # She gets prompted to the first part of Chapter 1 story and reads.
#    - Find text: Entering Leyenda
#
#    # She has finished reading the first part of the story and now wants to continue with the journal part.
#    - Click: success
#
#    # She gets prompted to the journal part of Chapter 1 and reads. After she’s finished she clicks on the next button to continue.
#    - Find text: Pioneer Journal
#    - Click: success                  # ID of “close journal and return…”
#
#    # She gets prompted to the last part of the story and reads. In the end she clicks on the next button that is on the bottom of the page.
#    - Find text: Your Journal
#    - Click: success              # should lead to real journal page
#
#    # She gets prompted to the introduction site of the journal where she gets introduced by Coralina.
#
#    # Carolina has some questions concerning the platform so she looks for the FAQ.
#    - Click: menu-button-account
#    - Click: menu-button-support          # still needs ID
#
#    # She gets prompted to the support page, gets introduced by Coralina and clicks on the FAQ link.
#    - Page title: Support
#    - Find element: coralina.png          # still needs Coralina picture ID
#    - Find text: Coralina                 # name of Coralina picture
#    - Find element: Coralina-chat         # still needs ID “chat box of Coralina”
#    - Find element: support-quote         # still needs ID for box of quote
#    - Find element: quote-author                 # quote author
#    - Find text : shared by               # quote sharer (animal)
#    - Click: faq-button               # still needs ID for button
#        # alternative: Click: faq.png           # still needs ID for picture (link to FAQ)
#
#    # She gets prompted to the FAQ site and clicks on the link to the google-doc
#    - Page title: FAQ
#    - Click: FAQ-link                 # still needs ID for google-doc
#
#    # She goes back to the Support site and there clicks on the documentation.
#    - Click: Support
#    - Page title: Support
#    - Click: Documentation-button
#    # alternative: Click: Documentation.png       # still needs ID for pic (link to Document)
#
#    # She gets prompted to the documentation page and clicks on the trello-link
#    - Page title: Documentation
#    - Click: Documentation-link           # still needs ID for trello-link
{% endblock %}
